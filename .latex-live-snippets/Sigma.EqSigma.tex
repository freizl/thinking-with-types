\begin{code}
instance ( Dict1 Eq (f :: k -> Type)  !\annotate{1}!
         , SDecide k
         ) => Eq (Sigma f) where
  Sigma sa fa == Sigma sb fb =
    case sa %!\tyeq! sb of
      Proved Refl ->
        case dict1 @Eq @f sa of
          Dict -> fa == fb
      Disproved _ -> False
\end{code}
